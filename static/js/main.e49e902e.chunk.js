(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2Wnmv",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3OP-I"}},14:function(e,t,a){e.exports={Overlay:"modal_Overlay__tdKbG",Modal:"modal_Modal__17GyR"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2SCqh"}},28:function(e,t,a){e.exports={Loader:"Loader_Loader__7rfCu"}},29:function(e,t,a){e.exports={Button:"button_Button__2WYBS"}},30:function(e,t,a){e.exports={App:"App_App__19bxv",Error:"App_Error__3HbMm"}},36:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__VDA4S",SearchForm:"Searchbar_SearchForm__3D7gL",SearchForm__button:"Searchbar_SearchForm__button__2IEUK",SearchForm__button_label:"Searchbar_SearchForm__button_label__2nKBm",SearchForm__input:"Searchbar_SearchForm__input__2VRXc","SearchForm-input":"Searchbar_SearchForm-input__3-Gsd"}},78:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),s=(a(35),a(36),a(15)),i=a(4),u=a(5),l=(a(16),a(12)),m=a.n(l),b=a(25),h=a(10),j=a.n(h);function _(){return(_=Object(b.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("",{params:{q:t,page:a}}).catch((function(e){u.b.error(e)}));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.hits);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.a.defaults.baseURL="https://pixabay.com/api/",j.a.defaults.params={key:"22027299-07bfdb6a4719892e2c46636ba",image_type:"photo",orientation:"horizontal",per_page:12};var p=a(6),d=a.n(p),f=a(1);function O(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(f.jsx)("header",{className:d.a.Searchbar,children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441")},className:d.a.SearchForm,children:[Object(f.jsx)("button",{type:"submit",className:d.a.SearchForm__button,children:Object(f.jsx)("span",{className:d.a.SearchForm__button_label,children:"Search"})}),Object(f.jsx)("input",{className:d.a.SearchForm__input,type:"text",placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())},value:c})]})})}var g=a(13),S=a.n(g),x=function(e){var t=e.imageSrc,a=e.openModalImage;return Object(f.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(f.jsx)("img",{src:t,alt:"",className:S.a.ImageGalleryItemImage,onClick:a})})},v=a(26),I=a.n(v),y=function(e){var t=e.images,a=e.modalImage;return Object(f.jsx)("ul",{className:I.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL;return Object(f.jsx)(x,{imageSrc:r,openModalImage:function(){return a(n)}},t)}))})},w=a(27),G=a.n(w),F=a(28),k=a.n(F),N=(a(77),function(){return Object(f.jsx)(G.a,{className:k.a.Loader,type:"ThreeDots",color:"#fc0362",height:80,width:80})}),C=a(29),L=a.n(C),E=function(e){var t=e.onClick;return Object(f.jsx)("button",{onClick:t,className:L.a.Button,children:"Load more"})},M=a(14),A=a.n(M);function B(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[]);var n=function(e){"Escape"===e.code&&t()};return Object(f.jsx)("div",{className:A.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:A.a.Modal,children:a})})}var R=a(30),D=a.n(R);function U(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(i.a)(c,2),l=o[0],m=o[1],b=Object(r.useState)(1),h=Object(i.a)(b,2),j=h[0],p=h[1],d=Object(r.useState)(!1),g=Object(i.a)(d,2),S=g[0],x=g[1],v=Object(r.useState)(!1),I=Object(i.a)(v,2),w=I[0],G=I[1],F=Object(r.useState)(""),k=Object(i.a)(F,2),C=k[0],L=k[1],M=Object(r.useState)(!1),A=Object(i.a)(M,2),R=A[0],U=A[1];Object(r.useEffect)((function(){l&&q(),a.length%12&&U(!0)}),[l]);var q=function(){G(!0),function(e,t){return _.apply(this,arguments)}(l,j).then((function(e){if(0===e.length)return U(!1),void u.b.error('Search result by "'.concat(l,"' not successful. Enter the correct query."));e.length<=12&&U(!0),n((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),p((function(e){return e+1})),U(!0)})).catch((function(e){return Object(u.b)(e)})).finally((function(){K(),G(!1)}))},K=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},T=function(){return x(!S)};return Object(f.jsxs)("div",{className:D.a.App,children:[Object(f.jsx)(u.a,{autoClose:3e3,position:"top-right"}),Object(f.jsx)(O,{onSubmit:function(e){n([]),m(e),p(1),U(!1)}}),a&&Object(f.jsx)(y,{images:a,modalImage:function(e){L(e),T()}}),w&&Object(f.jsx)(N,{}),R&&!w&&Object(f.jsx)(E,{onClick:q}),S&&Object(f.jsx)(B,{onClose:T,children:Object(f.jsx)("img",{src:C,alt:""})})]})}o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.e49e902e.chunk.js.map