{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/modal/modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Spinner/Loader.module.css","Components/button/button.module.css","Components/App.module.css","Components/Searchbar/Searchbar.module.css","services/Api.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Spinner/Loader.js","Components/button/button.js","Components/modal/modal.js","Components/App.js","index.js"],"names":["module","exports","searchQuery","page","a","axios","get","params","q","catch","error","toast","data","hits","defaults","baseURL","key","image_type","orientation","per_page","SearchBar","onSubmit","useState","value","setValue","className","s","Searchbar","event","preventDefault","trim","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","placeholder","onChange","target","toLowerCase","ImageGalleryItem","imageSrc","openModalImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","modalImage","map","id","webformatURL","largeImageURL","LoaderSpinner","Loader","color","height","width","Button","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","Overlay","currentTarget","App","setImages","setSearchQuery","setPage","showModal","setShowModal","isLoading","setIsLoading","setLargeImageURL","showButton","setShowButton","getImages","length","getFetch","then","prevState","finally","scrollDown","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","autoClose","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e49e902e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Wnmv\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3OP-I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__tdKbG\",\"Modal\":\"modal_Modal__17GyR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2SCqh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__7rfCu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2WYBS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__19bxv\",\"Error\":\"App_Error__3HbMm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__VDA4S\",\"SearchForm\":\"Searchbar_SearchForm__3D7gL\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2IEUK\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__2nKBm\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2VRXc\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3-Gsd\"};","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\naxios.defaults.params = {\r\n  key: \"22027299-07bfdb6a4719892e2c46636ba\",\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  per_page: 12,\r\n};\r\n\r\nasync function getFetch(searchQuery, page) {\r\n  const { data } = await axios\r\n    .get(\"\", {\r\n      params: {\r\n        q: searchQuery,\r\n        page,\r\n      },\r\n    })\r\n    .catch(function (error) {\r\n      toast.error(error);\r\n    });\r\n\r\n  return data.hits;\r\n}\r\n\r\nexport { getFetch };\r\n","import React, { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  const handleNameChange = (event) => {\r\n    setValue(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (value.trim() === \"\") {\r\n      toast.error(\"Введите поисковый запрос\");\r\n      return;\r\n    }\r\n    onSubmit(value);\r\n    setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchForm__button}>\r\n          <span className={s.SearchForm__button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm__input}\r\n          type=\"text\"\r\n          // autocomplete=\"off\"\r\n          // autofocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleNameChange}\r\n          value={value}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ imageSrc, openModalImage }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={imageSrc}\r\n        alt=\"\"\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={openModalImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageSrc: PropTypes.string.isRequired,\r\n  openModalImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, modalImage }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => {\r\n        const openModalImage = () => modalImage(largeImageURL);\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            imageSrc={webformatURL}\r\n            openModalImage={openModalImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  modalImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <Loader\r\n      className={s.Loader}\r\n      type=\"ThreeDots\"\r\n      color=\"#fc0362\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoaderSpinner;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { useEffect } from \"react\";\r\nimport s from \"./modal.module.css\";\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport { getFetch } from \"../services/Api\";\r\nimport SearchBar from \"../Components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\n//import imageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport LoaderSpinner from \"../Components/Spinner/Loader\";\r\nimport Button from \"./button/button\";\r\nimport Modal from \"./modal/modal\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nexport default function App() {\r\n  const [images, setImages] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\r\n  const [showButton, setShowButton] = useState(false);\r\n\r\n  useEffect(() => {\r\n    searchQuery && getImages();\r\n    if (images.length % 12) {\r\n      setShowButton(true);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  const handleFormSubmit = (searchQuery) => {\r\n    setImages([]);\r\n    setSearchQuery(searchQuery);\r\n    setPage(1);\r\n    setShowButton(false);\r\n  };\r\n\r\n  const getImages = () => {\r\n    setIsLoading(true);\r\n\r\n    getFetch(searchQuery, page)\r\n      .then((images) => {\r\n        if (images.length === 0) {\r\n          setShowButton(false);\r\n          toast.error(\r\n            `Search result by \"${searchQuery}' not successful. Enter the correct query.`\r\n          );\r\n          return;\r\n        } else if (images.length <= 12) {\r\n          setShowButton(true);\r\n        }\r\n        setImages((prevState) => [...prevState, ...images]);\r\n        setPage((page) => page + 1);\r\n        setShowButton(true);\r\n      })\r\n      .catch((error) => toast(error))\r\n      .finally(() => {\r\n        scrollDown();\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const scrollDown = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const toggleModal = () => setShowModal(!showModal);\r\n\r\n  const modalImage = (largeImageURL) => {\r\n    setLargeImageURL(largeImageURL);\r\n    toggleModal();\r\n  };\r\n\r\n  return (\r\n    <div className={s.App}>\r\n      <ToastContainer autoClose={3000} position=\"top-right\" />\r\n      <SearchBar onSubmit={handleFormSubmit} />\r\n\r\n      {images && <ImageGallery images={images} modalImage={modalImage} />}\r\n      {isLoading && <LoaderSpinner />}\r\n      {showButton && !isLoading && <Button onClick={getImages} />}\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}